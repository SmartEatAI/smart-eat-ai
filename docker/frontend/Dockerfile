FROM node:20-slim

WORKDIR /app

# Copiar y instalar todas las dependencias (incluidas las de desarrollo)
COPY frontend/package*.json ./
RUN npm install

# Copiar el resto del c贸digo fuente
COPY frontend .

# Construir la aplicaci贸n Next.js
RUN npm run build

# Exponer el puerto 3000
EXPOSE 3000

# Comando para iniciar el servidor de desarrollo
CMD ["npm", "run", "dev"]

# Comando para iniciar el servidor de producci贸n (descomentar si se desea usar en producci贸n)
# CMD ["npm", "start"]